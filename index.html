<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Make it Private</title>

  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Meow+Script&family=Offside&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Lobster&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=business_center" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
  <style>
    /* Your existing styles */
    .topbar {
      display: flex;
      justify-content: flex-end; /* push avatar to right */
      align-items: center;
      padding: 1rem;
    }
    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(45deg, #007bff, #00c6ff); /* A gradient for a better look */
      color: #fff;
      font-size: 2rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* A softer shadow */
    }
    .avatar:hover {
      transform: scale(1.1); /* Subtle zoom effect */
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Enhanced shadow on hover */
    }
    .sidebar {
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: 300px;
      background: #111;
      box-shadow: -4px 0 10px rgba(0,0,0,0.5);
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
      padding: 1rem;
      z-index: 1000;
    }
    .sidebar.open {
      transform: translateX(0);
    }
    .close-btn {
      background: none;
      border: none;
      font-size: 1rem;
      color: #fff;
      cursor: pointer;
      position: absolute;
      top: 10px;
      right: 15px;
    }
    .sidebar h3 {
      margin-top: 0;
      color: rgba(0,172,252,1);
    }
    .sidebar button {
      margin-top: 1rem;
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 8px;
      background: rgba(0,172,252,1);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    .sidebar button:hover {
      background: #0a8fbf;
    }
    .file-list {
      margin-top: 1.5rem;
    }
    .file-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0.6rem 0;
      padding: 0.6rem;
      background: #1a1a1a;
      border-radius: 8px;
    }
    .file-item button {
      background: rgba(0,172,252,0.8);
      border: none;
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      color: #fff;
    }
  </style>
</head>
<body>

 <!-- Navbar -->
<div class="navbar">
  <div class="topbar">
  <div class="avatar" id="avatar"> <i class='bx bx-user'></i></div>
</div>

<div class="sidebar" id="sidebar">
    <button class="close-btn" id="closeSidebar">&times;</button>
  <h3>Account</h3>
  <p id="userEmail"></p>
  <button id="logoutBtn">Log Out</button>

  <div class="file-list" id="fileList">
    <h4>Your Files</h4>
    <!-- Files injected here -->
  </div>
</div>
  <h1>Make it Private</h1>
  <p class="tagline">üîê <span>Because What matter is - your privacy </span></p>

</div>
<p class="trust-line">üå∏ <span>Your trust is the cost of using this tool üòä </span>üíô</p>



<!-- Toggle Buttons -->
<div class="toggle-buttons">
  <button id="encryptTab" class="active">Encrypt</button>
  <button id="decryptTab">Decrypt</button>
</div>

<!-- Encrypt Section -->
<div id="encryptSection" class="content active">
  
    <div class="drag-drop-area" id="encryptDropArea">
      <div class="drag-drop-message">
        <i class='bx bx-upload'></i>
        <p>Drag & drop your file here to encrypt</p>
        <p>OR</p>
        <label for="encryptFile" class="file-label">Choose File</label>
      </div>
      <input type="file" id="encryptFile" accept="image/*,video/*" />
    </div>
  <div class="preview" id="encryptPreview"></div>
  <div class="password-container">
    <input type="password" id="encryptPassword" placeholder="Enter a strong password (at-least six digits)" />
    <i class='bx bx-show toggle-eye' id="toggleEncryptEye"></i>
  </div>
  
   
  <div class="button-group">
    <button class="action" id="encryptBtn">Encrypt</button>
    <button class="reset" id="resetEncryptBtn">Reset</button>
  </div>
</div>

<!-- Decrypt Section -->
<div id="decryptSection" class="content">
  <div class="drag-drop-area" id="decryptDropArea">
    <div class="drag-drop-message">
      <i class='bx bx-upload'></i>
      <p>Drag & drop your encrypted file here</p>
      <p>OR</p>
      <label for="decryptFile" class="file-label">Choose File</label>
    </div>
    <input type="file" id="decryptFile" accept=".txt,.json" />
  </div>
  <div class="password-container">
    <input type="password" id="decryptPassword" placeholder="Enter the password" />
    <i class='bx bx-show toggle-eye' id="toggleDecryptEye"></i>
  </div>
  <div class="form-group checkbox-group">
       <input type="checkbox" id="useSecurityQuestionDecrypt" class="custom-checkbox">
       <label for="useSecurityQuestionDecrypt"> <span style="color: #0dadf2;">Forgot password?</span> Use security question instead</label>
     </div>
     <div id="decryptSecurityQuestionContainer" class="form-group" style="display: none;">
       <div class="form-header">
         <label id="decryptQuestionLabel">Security Question</label>
       </div>
       <select id="decryptSecurityQuestion" class="form-input">
         <option value="first_crush">Who was your first crush?</option> 
         <option value="school_name">What was your first school name?</option>
         <option value="first_pet">What was the name of your first pet?</option>
         <option value="birth_city">In what city were you born?</option>
         <option value="first_car">What was your first car?</option>
       </select>
       <input type="text" id="decryptSecurityAnswer" class="form-input" placeholder="Your answer">
     </div>
  <div class="button-group">
    <button class="action" id="decryptBtn">Decrypt</button>
    <button class="reset" id="resetDecryptBtn">Reset</button>
  </div>
</div>
`

<!-- Decrypted file preview and download button -->
<div id="decryptPreview" style="display: none;">
  <h3>Decrypted Preview</h3>
  <div id="previewContent"></div>
  <button id="downloadButton">Download</button>
</div>

<!-- Warning message (hidden by default) -->
<div id="fileSizeWarning" style="display: none; color: red;">
  <p>Warning: This file is large, it may take longer to process. Proceed with caution.</p>
  <button id="proceedButton">Proceed</button>
  <button id="cancelButton">Cancel</button>
</div>


<div class="container">
   <h2>‚ú®<span class="main-title"> What Makes This Tool Special</span>‚ú®</h2> 
    <p class="subtitle">Replace your sensitive photos and videos with encrypted text files - unbreakable protection that only you control</p>
<div class="demo-section">
      <h3 class="demo-title">üîÑ See The Transformation</h3>
      <div class="demo-flow">
        <div class="demo-item">
          <!-- --- CODE FIX START --- -->
          <!-- Replaced the placeholder div content with an actual image tag -->
          <div class="demo-placeholder">
            <img src="demo.png" alt="Original sensitive file" onerror="this.onerror=null;this.src='https://placehold.co/400x400/cccccc/FFFFFF?text=Image+Not+Found';">
          </div>
          <!-- --- CODE FIX END --- -->
          <div class="demo-label">Your Private File</div>
          <div class="demo-description">Photos, videos etc - anything you want to keep absolutely private</div>
        </div>
        
        <div class="demo-arrow">
          <i class='bx bx-right-arrow-alt'></i>
        </div>
        
        <div class="demo-item">
          <!-- --- CODE FIX START --- -->
          <!-- Replaced the placeholder div content with an actual image tag -->
          <div class="demo-placeholder">
            <img src="encrypt.png" alt="Encrypted text file" onerror="this.onerror=null;this.src='https://placehold.co/800x400/cccccc/FFFFFF?text=Image+Not+Found';">
          </div>
          <!-- --- CODE FIX END --- -->
          <div class="demo-label">Encrypted Text File</div>
          <div class="demo-description">Unreadable encrypted text that replaces your original file completely</div>
        </div>
      </div>
      <p style="text-align: center; color: rgba(255, 255, 255, 0.8); font-size: 1.1rem; margin-top: 2rem;">
        <span class="feature-highlight">Even if your device gets hacked or stolen</span>, attackers will only find meaningless encrypted text instead of your actual sensitive files.
      </p>
    </div>

    <div class="analogy-section">
      <h3 class="analogy-title">
        <i class='bx bx-lock-alt'></i>
        How Our Security Works
      </h3>
      <p style="font-size: 1.1rem; color: rgba(255, 255, 255, 0.8); margin-bottom: 3rem;">
        Think of your file as being locked in a special padlock where the key is broken into two pieces
      </p>
      
      <div class="lock-visual">
        <div class="lock-component">
          <div class="lock-icon"><i class='bx bx-lock-alt'></i></div>
          <div class="lock-title">Encrypted File</div>
          <div class="lock-desc">Contains one piece of the key hidden inside the encrypted data</div>
        </div>
        
        <div class="plus-icon"><i class='bx bx-plus'></i></div>
        
        <div class="lock-component">
          <div class="lock-icon"><i class='bx bx-key'></i></div>
          <div class="lock-title">Your Password</div>
          <div class="lock-desc">The second piece of the key that only you know</div>
        </div>
      </div>
      
      <p style="font-size: 1rem; color: rgba(255, 255, 255, 0.7);">
        <span class="feature-highlight">Unless both pieces match perfectly</span>, the padlock can never be opened. 
        Even if someone steals your encrypted file, it's completely useless without your password.
      </p>
    </div>

    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-shield-alt-2'></i></div>
          <h4 class="feature-title">100% Client-Side Security</h4>
        </div>
        <div class="feature-content">
          All encryption happens <span class="feature-highlight">directly in your browser</span> - never on our servers. Your files never leave your device during the encryption process, ensuring complete privacy and control.
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-server'></i></div>
          <h4 class="feature-title">Optional Secure Cloud Storage</h4>
        </div>
        <div class="feature-content">
          Want to access your files from other devices? Store your <span class="feature-highlight">already-encrypted files</span> on our servers. Since encryption happened on your device, <span class="feature-highlight">even we can't decrypt them</span> - only you can.
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-error-circle'></i></div>
          <h4 class="feature-title">Hack-Proof Protection</h4>
        </div>
        <div class="feature-content">
          If your device gets compromised, hackers will find <span class="feature-highlight">meaningless encrypted text</span> instead of your actual photos and videos. Without your password, the data is completely worthless.
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-refresh'></i></div>
          <h4 class="feature-title">Perfect Recovery System</h4>
        </div>
        <div class="feature-content">
          Device stolen or encrypted file deleted? No problem. Download your encrypted files from our secure cloud and <span class="feature-highlight">decrypt them on any device</span> using your password.
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-code-alt'></i></div>
          <h4 class="feature-title">Open Source Transparency</h4>
        </div>
        <div class="feature-content">
          Our code is completely <span class="feature-highlight">open and transparent</span>. You can verify exactly how your files are encrypted and ensure there are no backdoors or hidden vulnerabilities.
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-header">
          <div class="feature-icon"><i class='bx bx-time'></i></div>
          <h4 class="feature-title">Zero Knowledge Architecture</h4>
        </div>
        <div class="feature-content">
          We operate on a <span class="feature-highlight">zero-knowledge principle</span> - we never see your files, passwords, or decrypted data. Your privacy is mathematically guaranteed by design.
        </div>
      </div>
    </div>

    <div class="trust-section">
      <h3 class="trust-title">üå∏ Your Trust is Our Priority üíô</h3>
      <p class="trust-subtitle">Built with complete transparency and your privacy at the core</p>
      
      <div class="trust-points">
        <div class="trust-point">
          <div class="trust-point-icon"><i class='bx bx-check-shield'></i></div>
          <div class="trust-point-title">No Server Processing</div>
          <div class="trust-point-desc">Encryption happens entirely on your device - we never see your files</div>
        </div>
        
        <div class="trust-point">
          <div class="trust-point-icon"><i class='bx bx-lock'></i></div>
          <div class="trust-point-title">Password Protection</div>
          <div class="trust-point-desc">Only you know the password - we can't decrypt your files even if we wanted to</div>
        </div>
        
        <div class="trust-point">
          <div class="trust-point-icon"><i class='bx bx-code-block'></i></div>
          <div class="trust-point-title">Open Source Code</div>
          <div class="trust-point-desc">Inspect our code anytime - no hidden processes or backdoors</div>
        </div>
        
        <div class="trust-point">
          <div class="trust-point-icon"><i class='bx bx-user-check'></i></div>
          <div class="trust-point-title">Your Data, Your Control</div>
          <div class="trust-point-desc">You own and control your encrypted files completely - delete anytime</div>
        </div>
      </div>
    </div>
  </div>

<div class="about-project">
  <h2>‚ú® Project Vibes ‚ú®</h2>

  <div class="about-content">
    <p>
      <span class="emoji-highlight">üß™</span> This is an experimental project based on <a href="https:en.wikipedia.org/wiki/Vibe_coding" target="_blank" style="text-decoration: none;"><span class="keyword">vibe coding</span></a>, where I designed the system flow and architected a client-side tool that ensures user privacy by encrypting images and videos into text without any server storage.
    </p>
    <p>
      <span class="emoji-highlight">üîê</span> The tool allows users to <span class="keyword">decrypt their files</span> later, using a password. <span class="keyword">AI was leveraged</span> to implement my design into functional code, maintaining full client-side security.
    </p>
    <p>
      <span class="emoji-highlight">üöÄ</span> The entire encryption/decryption process happens <span class="keyword">directly in your browser</span> - no data is ever sent to any server, ensuring your files remain completely private.
    </p>
    <p>
      <span class="emoji-highlight">üí°</span> This project demonstrates how privacy-focused tools can be built with <span class="keyword">zero server dependencies</span>, putting users in complete control of their sensitive data.
    </p>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <a href="https:github.com/aadityansha06/make-private" target="_blank" class="action-button collaborate-btn">
      <i class="bx bx-code-alt"></i>
      Collaborate
    </a>
    <a href="https:aadityansha06.github.io/donate.html" target="_blank"  class="action-button donate-btn">
      <i class="bx bx-donate-heart"></i>
      Support via Donation
    </a>
  </div>
</div>
<div class="enhanced-footer">
  <h3 class="quick-links-header">Quick Links</h3>

  <div class="footer-columns">
    <!-- Reach -->
    <div class="footer-column">
      <div class="footer-title">Reach</div>
      <div class="footer-icons-row">
        <a href="https:t.me/aadityansha" target="_blank" class="footer-link" title="Telegram">
          <i class='bx bxl-telegram'></i>
        </a>
        <a href="mailto:pkumariverma42@gmail.com" target="_blank" class="footer-link" title="Email">
          <i class='bx bx-envelope'></i>
        </a>
        <a href="https:www.linkedin.com/in/aadityansha-verma-a4a35a213/" class="footer-link" title="LinkedIn">
          <i class='bx bxl-linkedin'></i>
        </a>
      </div>
    </div>

    <!-- Collab -->
    <div class="footer-column">
      <div class="footer-title">Collab</div>
      <div class="footer-icons-row">
        <a href="https:github.com/aadityansha06/make-private" class="footer-link" title="GitHub">
          <i class='bx bxl-github'></i>
        </a>
      </div>
    </div>

    <!-- Support -->
    <div class="footer-column">
      <div class="footer-title">Support</div>
      <div class="footer-icons-row">
        <a href="https:aadityansha06.github.io/donate.html" class="footer-link" title="Donate">
          <i class='bx bx-donate-heart'></i>
        </a>
      </div>
    </div>

    <!-- Portfolio -->
    <div class="footer-column">
      <div class="footer-title">Portfolio</div>
      <div class="footer-icons-row">
        <a href="https:aadityansha06.github.io/" class="footer-link" target="_blank" title="portfolio">
          
          <i class='bx bxs-briefcase'></i>
        </a>
      </div>
    </div>
  </div>
  <p>
    <span class="footer-metallic-text">Designed with</span> ‚ù§Ô∏è 
    <span class="footer-metallic-text">for your privacy</span> üîí
    
  </p>
  <p>
    <span class="footer-metallic-text"> By AADITYANSHA
    </span>
  </p>
  
</div>
<p class="copyright" style="text-align: center;">Make It private | Copyright ¬© 2025-26 | All Rights Reserved</p>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script type="module">
import { supabase } from "./supabaseClient.js";

// Sidebar toggle
const avatar = document.getElementById("avatar");
const sidebar = document.getElementById("sidebar");
const closeSidebar = document.getElementById("closeSidebar");
const userEmail = document.getElementById("userEmail");
const logoutBtn = document.getElementById("logoutBtn");

// Check user session
// Check user session
async function checkAuth() {
  const { data, error } = await supabase.auth.getUser();
  if (error || !data.user) {
    // Not logged in ‚Üí redirect to login
    window.location.href = "/index.html";
    return null;
  }
  // Get the first letter of the user's email and capitalize it
  const firstLetter = data.user.email ? data.user.email.charAt(0).toUpperCase() : 'U';
  
  // Set the avatar text
  document.getElementById("avatar").textContent = firstLetter;
  
  return data.user;
}//Replace your existing avatar click handler with this:

avatar.addEventListener("click", async () => {
  console.log("Avatar clicked"); // debug
  const user = await checkAuth();
  if (user) {
    // console.log("User found:", user.email);
    userEmail.textContent = user.email;
    sidebar.classList.add("open"); // Use class-based approach
  } else {
    console.log("No user, redirecting to login");
     window.location.href = "/login.html";
  }
});

// Close sidebar
closeSidebar.addEventListener("click", () => {
  sidebar.classList.remove("open"); // Use class-based approach
});

// Logout
logoutBtn.addEventListener("click", async () => {
  await supabase.auth.signOut();
  window.location.href = "/index.html";
});
</script>

<script  type="module" src="private.js"></script>

<script type="module" src="account.js"></script>





</body>
</html>


