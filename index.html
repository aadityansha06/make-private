<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Make it Private</title>
  <link href="https:fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https:fonts.googleapis.com">
  <link rel="preconnect" href="https:fonts.gstatic.com" crossorigin>
  <link href="https:fonts.googleapis.com/css2?family=Meow+Script&family=Offside&display=swap" rel="stylesheet">
  <link href="https:fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link href="https:fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Lobster&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https:fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=business_center" />
  <link href="https:fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap" rel="stylesheet">
  <link href="https:fonts.googleapis.com/css2?family=Caveat:wght@500&display=swap" rel="stylesheet">
  <link href="https:cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
  <style>
    

.topbar {
  display: flex;
  justify-content: flex-end; /* push avatar to right */
  align-items: center;
  padding: 1rem;
  
}

.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(45deg, #007bff, #00c6ff); /* A gradient for a better look */
  color: #fff;
  font-size: 2rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* A softer shadow */
}
.avatar:hover {
  transform: scale(1.1); /* Subtle zoom effect */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Enhanced shadow on hover */
}

.sidebar {
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  width: 300px;
  background: #111;
  box-shadow: -4px 0 10px rgba(0,0,0,0.5);
  transform: translateX(100%);
  transition: transform 0.3s ease-in-out;
  padding: 1rem;
  z-index: 1000;
}
.sidebar.open {
  transform: translateX(0);
}
.close-btn {
  background: none;
  border: none;
  font-size: 1rem;
  color: #fff;
  cursor: pointer;
  position: absolute;
  top: 10px;
  right: 15px;
}

.sidebar h3 {
  margin-top: 0;
  color: rgba(0,172,252,1);
}
.sidebar button {
  margin-top: 1rem;
  padding: 0.6rem 1rem;
  border: none;
  border-radius: 8px;
  background: rgba(0,172,252,1);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}
.sidebar button:hover {
  background: #0a8fbf;
}
.file-list {
  margin-top: 1.5rem;
}
.file-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 0.6rem 0;
  padding: 0.6rem;
  background: #1a1a1a;
  border-radius: 8px;
}
.file-item button {
  background: rgba(0,172,252,0.8);
  border: none;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  cursor: pointer;
  color: #fff;
}

  </style>
</head>
<body>

 <!-- Navbar -->
<div class="navbar">
  <div class="topbar">
  <div class="avatar" id="avatar"> <i class='bx bx-user'></i></div>
</div>

<div class="sidebar" id="sidebar">
    <button class="close-btn" id="closeSidebar">&times;</button>
  <h3>Account</h3>
  <p id="userEmail"></p>
  <button id="logoutBtn">Log Out</button>

  <div class="file-list" id="fileList">
    <h4>Your Files</h4>
    <!-- Files injected here -->
  </div>
</div>
  <h1>Make it Private</h1>
  <p class="tagline">üîê <span>Because What matter is - your privacy </span></p>

</div>
<p class="trust-line">üå∏ <span>Your trust is the cost of using this tool üòä </span>üíô</p>



<!-- Toggle Buttons -->
<div class="toggle-buttons">
  <button id="encryptTab" class="active">Encrypt</button>
  <button id="decryptTab">Decrypt</button>
</div>

<!-- Encrypt Section -->
<div id="encryptSection" class="content active">
  
    <div class="drag-drop-area" id="encryptDropArea">
      <div class="drag-drop-message">
        <i class='bx bx-upload'></i>
        <p>Drag & drop your file here to encrypt</p>
        <p>OR</p>
        <label for="encryptFile" class="file-label">Choose File</label>
      </div>
      <input type="file" id="encryptFile" accept="image/*,video/*" />
    </div>
  <div class="preview" id="encryptPreview"></div>
  <div class="password-container">
    <input type="password" id="encryptPassword" placeholder="Enter a strong password (at-least six digits)" />
    <i class='bx bx-show toggle-eye' id="toggleEncryptEye"></i>
  </div>
  
   
  <div class="button-group">
    <button class="action" id="encryptBtn">Encrypt</button>
    <button class="reset" id="resetEncryptBtn">Reset</button>
  </div>
</div>

<!-- Decrypt Section -->
<div id="decryptSection" class="content">
  <div class="drag-drop-area" id="decryptDropArea">
    <div class="drag-drop-message">
      <i class='bx bx-upload'></i>
      <p>Drag & drop your encrypted file here</p>
      <p>OR</p>
      <label for="decryptFile" class="file-label">Choose File</label>
    </div>
    <input type="file" id="decryptFile" accept=".txt,.json" />
  </div>
  <div class="password-container">
    <input type="password" id="decryptPassword" placeholder="Enter the password" />
    <i class='bx bx-show toggle-eye' id="toggleDecryptEye"></i>
  </div>
  <div class="form-group checkbox-group">
       <input type="checkbox" id="useSecurityQuestionDecrypt" class="custom-checkbox">
       <label for="useSecurityQuestionDecrypt"> <span style="color: #0dadf2;">Forgot password?</span> Use security question instead</label>
     </div>
     <div id="decryptSecurityQuestionContainer" class="form-group" style="display: none;">
       <div class="form-header">
         <label id="decryptQuestionLabel">Security Question</label>
       </div>
       <select id="decryptSecurityQuestion" class="form-input">
         <option value="first_crush">Who was your first crush?</option> 
         <option value="school_name">What was your first school name?</option>
         <option value="first_pet">What was the name of your first pet?</option>
         <option value="birth_city">In what city were you born?</option>
         <option value="first_car">What was your first car?</option>
       </select>
       <input type="text" id="decryptSecurityAnswer" class="form-input" placeholder="Your answer">
     </div>
  <div class="button-group">
    <button class="action" id="decryptBtn">Decrypt</button>
    <button class="reset" id="resetDecryptBtn">Reset</button>
  </div>
</div>
`

<!-- Decrypted file preview and download button -->
<div id="decryptPreview" style="display: none;">
  <h3>Decrypted Preview</h3>
  <div id="previewContent"></div>
  <button id="downloadButton">Download</button>
</div>

<!-- Warning message (hidden by default) -->
<div id="fileSizeWarning" style="display: none; color: red;">
  <p>Warning: This file is large, it may take longer to process. Proceed with caution.</p>
  <button id="proceedButton">Proceed</button>
  <button id="cancelButton">Cancel</button>
</div>


<div class="container">
  <h2>‚ú® How It Works ‚ú®</h2>

  <!-- Feature Icons -->
  <div class="feature-icons">
    <div class="feature-icon">
      <img src="https:img.icons8.com/ios/50/000000/lock.png" alt="Security Icon">
      <h4>Secure Encryption</h4>
      <p>Password-protected files</p>
    </div>
    <div class="feature-icon">
      <img src="https:img.icons8.com/ios/50/000000/private2.png" alt="Privacy Icon">
      <h4>100% Private</h4>
      <p>Your data stays local</p>
    </div>
    <div class="feature-icon">
      <img src="https:img.icons8.com/ios/50/000000/shield.png" alt="Protection Icon">
      <h4>Zero Storage</h4>
      <p>No server uploads</p>
    </div>
  </div>

  <!-- Process Timeline -->
  <div class="process-timeline">
    <div class="timeline-step">
      <div class="timeline-number">1</div>
      <div class="timeline-content">
        <h4>Upload Your File</h4>
        <p>Select any image, video, or document you want to protect. The file never leaves your device.</p>
      </div>
    </div>
    
    <div class="timeline-step">
      <div class="timeline-number">2</div>
      <div class="timeline-content">
        <h4>Set Your Password</h4>
        <p>Create a strong password that only you know. This is your key to decrypt the file later.</p>
      </div>
    </div>
    
    <div class="timeline-step">
      <div class="timeline-number">3</div>
      <div class="timeline-content">
        <h4>Encrypt & Save</h4>
        <p>Click encrypt and save the encoded text. Your original file is now secure and private.</p>
      </div>
    </div>
  </div>

  <!-- Encryption Process -->
  <div class="section">
    <h3><img src="https:img.icons8.com/ios/50/000000/lock.png" alt="Encryption Icon"> Encryption Process üîí</h3>
    <p>When you upload a file (image, video, document, etc.), it is encrypted using a password only you know. The file becomes unreadable to anyone without the correct password. This encryption process happens only on your device, so no one‚Äînot even us‚Äîhas access to your files.</p>
  </div>

  <!-- Decryption Process -->
  <div class="section">
    <h3><img src="https:img.icons8.com/ios/50/000000/key.png" alt="Decryption Icon"> Decryption Process üîë</h3>
    <p>To decrypt your file, simply enter your password. The tool unlocks the file directly on your device, allowing you to download and view it just as it was before encryption. Your sensitive data never leaves your control.</p>
  </div>

  <!-- Trust Section (Enhanced to match the trust-line at the top) -->
  <div class="trust-section">
    <h3>Your Trust is my Priority üå∏</h3>
    <p><span>"Your trust is the cost of using this tool üòä" üíô</span></p>
    <p>We do not store or share any of your data. Only you can decrypt your files using your password.</p>
  </div>

  <!-- Why Choose This Tool -->
  <div class="section">
    <h3><img src="https:img.icons8.com/ios/50/000000/shield.png" alt="Security Icon"> Why Choose This Tool?</h3>
    <p><strong>Your Data Stays Private üîê:</strong> Your encrypted files are only accessible with your password. We do not store any files on our servers, so no one can access them. All encryption and decryption happen locally on your device, keeping your data secure.</p>
    <p><strong>No One Can Break In üö´:</strong> Without your password, your encrypted files are useless. Unlike vaults or apps, where passwords can be hacked, your files remain safe. Even if someone gains access to your device, they cannot decrypt your files without your password.</p>
    <p><strong>Everything Happens Locally üñ•Ô∏è:</strong> Encryption and decryption occur directly on your device in real-time. Your files never leave your browser, ensuring complete privacy.</p>
  </div>

  <!-- Why Encrypt Your Files -->
  <div class="section">
    <h3><img src="https:img.icons8.com/ios/50/000000/lock-2.png" alt="Encrypt Icon"> Why Encrypt Your Files?</h3>
    <p><strong>Extra Layer of Security ‚úÖ:</strong> Even if you use a vault or app lock, encrypting your files adds an extra layer of security. Apps like Instagram or WhatsApp store files on their servers, which can be hacked.</p>
    <p><strong>Minimal Risk of Hacking üö®:</strong> With this tool, your encrypted files are stored as unreadable text. Only you‚Äî with your password‚Äî can decrypt them. Even if someone gains access to your device or vault, your files are safe.</p>
  </div>

  <!-- What Makes This Tool Special -->
  <div class="section">
    <h3><img src="https:img.icons8.com/ios/50/000000/code.png" alt="Open Source Icon"> What Makes This Tool Special?</h3>
    <p><strong>Open Source Transparency üëÅÔ∏è:</strong> The code is open and transparent. You can check the source to ensure it works as promised, with no hidden secrets.</p>
    <p><strong>Your Files, Your Privacy ü§ù:</strong> We don't collect any data. All encryption occurs locally on your device, and only you can decrypt your files.</p>
  </div>

 
</div>

<div class="about-project">
  <h2>‚ú® Project Vibes ‚ú®</h2>

  <div class="about-content">
    <p>
      <span class="emoji-highlight">üß™</span> This is an experimental project based on <a href="https:en.wikipedia.org/wiki/Vibe_coding" target="_blank" style="text-decoration: none;"><span class="keyword">vibe coding</span></a>, where I designed the system flow and architected a client-side tool that ensures user privacy by encrypting images and videos into text without any server storage.
    </p>
    <p>
      <span class="emoji-highlight">üîê</span> The tool allows users to <span class="keyword">decrypt their files</span> later, using a password. <span class="keyword">AI was leveraged</span> to implement my design into functional code, maintaining full client-side security.
    </p>
    <p>
      <span class="emoji-highlight">üöÄ</span> The entire encryption/decryption process happens <span class="keyword">directly in your browser</span> - no data is ever sent to any server, ensuring your files remain completely private.
    </p>
    <p>
      <span class="emoji-highlight">üí°</span> This project demonstrates how privacy-focused tools can be built with <span class="keyword">zero server dependencies</span>, putting users in complete control of their sensitive data.
    </p>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <a href="https:github.com/aadityansha06/make-private" target="_blank" class="action-button collaborate-btn">
      <i class="bx bx-code-alt"></i>
      Collaborate
    </a>
    <a href="https:aadityansha06.github.io/donate.html" target="_blank"  class="action-button donate-btn">
      <i class="bx bx-donate-heart"></i>
      Support via Donation
    </a>
  </div>
</div>
<div class="enhanced-footer">
  <h3 class="quick-links-header">Quick Links</h3>

  <div class="footer-columns">
    <!-- Reach -->
    <div class="footer-column">
      <div class="footer-title">Reach</div>
      <div class="footer-icons-row">
        <a href="https:t.me/aadityansha" target="_blank" class="footer-link" title="Telegram">
          <i class='bx bxl-telegram'></i>
        </a>
        <a href="mailto:pkumariverma42@gmail.com" target="_blank" class="footer-link" title="Email">
          <i class='bx bx-envelope'></i>
        </a>
        <a href="https:www.linkedin.com/in/aadityansha-verma-a4a35a213/" class="footer-link" title="LinkedIn">
          <i class='bx bxl-linkedin'></i>
        </a>
      </div>
    </div>

    <!-- Collab -->
    <div class="footer-column">
      <div class="footer-title">Collab</div>
      <div class="footer-icons-row">
        <a href="https:github.com/aadityansha06/make-private" class="footer-link" title="GitHub">
          <i class='bx bxl-github'></i>
        </a>
      </div>
    </div>

    <!-- Support -->
    <div class="footer-column">
      <div class="footer-title">Support</div>
      <div class="footer-icons-row">
        <a href="https:aadityansha06.github.io/donate.html" class="footer-link" title="Donate">
          <i class='bx bx-donate-heart'></i>
        </a>
      </div>
    </div>

    <!-- Portfolio -->
    <div class="footer-column">
      <div class="footer-title">Portfolio</div>
      <div class="footer-icons-row">
        <a href="https:aadityansha06.github.io/" class="footer-link" target="_blank" title="portfolio">
          
          <i class='bx bxs-briefcase'></i>
        </a>
      </div>
    </div>
  </div>
  <p>
    <span class="footer-metallic-text">Designed with</span> ‚ù§Ô∏è 
    <span class="footer-metallic-text">for your privacy</span> üîí
    
  </p>
  <p>
    <span class="footer-metallic-text"> By AADITYANSHA
    </span>
  </p>
  
</div>
<p class="copyright" style="text-align: center;">Make It private | Copyright ¬© 2025-26 | All Rights Reserved</p>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script type="module">
import { supabase } from "./supabaseClient.js";

// Sidebar toggle
const avatar = document.getElementById("avatar");
const sidebar = document.getElementById("sidebar");
const closeSidebar = document.getElementById("closeSidebar");
const userEmail = document.getElementById("userEmail");
const logoutBtn = document.getElementById("logoutBtn");

// Check user session
// Check user session
async function checkAuth() {
  const { data, error } = await supabase.auth.getUser();
  if (error || !data.user) {
    // Not logged in ‚Üí redirect to login
    window.location.href = "/index.html";
    return null;
  }
  // Get the first letter of the user's email and capitalize it
  const firstLetter = data.user.email ? data.user.email.charAt(0).toUpperCase() : 'U';
  
  // Set the avatar text
  document.getElementById("avatar").textContent = firstLetter;
  
  return data.user;
}//Replace your existing avatar click handler with this:

avatar.addEventListener("click", async () => {
  console.log("Avatar clicked"); // debug
  const user = await checkAuth();
  if (user) {
    // console.log("User found:", user.email);
    userEmail.textContent = user.email;
    sidebar.classList.add("open"); // Use class-based approach
  } else {
    console.log("No user, redirecting to login");
     window.location.href = "/login.html";
  }
});

// Close sidebar
closeSidebar.addEventListener("click", () => {
  sidebar.classList.remove("open"); // Use class-based approach
});

// Logout
logoutBtn.addEventListener("click", async () => {
  await supabase.auth.signOut();
  window.location.href = "/index.html";
});
</script>

<script  type="module" src="private.js"></script>

<script type="module" src="account.js"></script>



</body>
</html>
